webpackJsonp([1],{"/AuU":function(t,e){},D4uH:function(t,e,n){"use strict";var i={},s={name:"icon",props:{name:{type:String,validator:function(t){return t?t in i||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?i[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,n=t.height;return Math.max(e,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(t,n){var i="fa-"+(a++).toString(16);return e[n]=i,' id="'+i+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,n,i,s){var a=n||s;return a&&e[a]?"#"+e[a]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,n=0;this.$children.forEach(function(t){e=Math.max(e,t.width),n=Math.max(n,t.height)}),this.childrenWidth=e,this.childrenHeight=n,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(n-t.height)/2})}},register:function(t){for(var e in t){var n=t[e];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),i[e]=n}},icons:i},a=870711,o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,i){return n("path",t._b({key:"path-"+i},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,i){return n("polygon",t._b({key:"polygon-"+i},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[n("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},staticRenderFns:[]},r=n("VU/8")(s,o,!1,function(t){n("/AuU")},null,null);e.a=r.exports},MXkr:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},a=n("VU/8")({name:"app",components:{},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},s,!1,function(t){n("ZvKb")},null,null).exports,o=n("/ocq"),r=n("D4uH"),c=(n("4MOn"),n("15Ef"),n("7p6u"),{name:"copy-input",components:{Icon:r.a},props:["value"],data:function(){return{}},created:function(){},mounted:function(){},methods:{copyToClipboard:function(){this.$refs.input.select(),document.execCommand("copy")}}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"small",attrs:{type:"text",readonly:""},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),n("div",{staticClass:"button outline small",on:{click:t.copyToClipboard}},[n("icon",{staticClass:"shift-down-3",attrs:{name:"clipboard"}})],1)])},staticRenderFns:[]},u=n("VU/8")(c,l,!1,function(t){n("jvwS")},null,null).exports,d={name:"authenticate-button",components:{},props:["label","url"],data:function(){return{}},created:function(){},mounted:function(){},methods:{authenticate:function(){var t=this;window.addEventListener("message",this.handleAuthenticatedMessage),this.popup=window.open(this.url,"auth","scrollbars=no,width=500,height=675"),this.interval=window.setInterval(function(){t.popup.closed&&(window.removeEventListener("message",t.handleAuthenticatedMessage),window.clearInterval(t.interval))},100)},handleAuthenticatedMessage:function(t){t.data.returnTime&&this.$emit("authenticated",t.data)}}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"button w100 small",on:{click:this.authenticate}},[this._v("\n  "+this._s(this.label)+"\n")])},staticRenderFns:[]},m=n("VU/8")(d,p,!1,function(t){n("lSa9")},null,null).exports,h={name:"get-access-token",components:{CopyInput:u,AuthenticateButton:m,Icon:r.a},props:["domain","clientId"],data:function(){return{expiration:120,accessToken:"",expirationDate:""}},computed:{authUrl:function(){return"https://"+this.domain+"/sharing/rest/oauth2/authorize"+"?"+("client_id="+this.clientId+"&response_type=token&redirect_uri="+window.location.origin+window.location.pathname+"authenticate&expiration="+this.expiration)},selfUrl:function(){return"https://"+this.domain+"/sharing/rest/community/self"+"?"+("f=pjson&token="+this.accessToken)}},created:function(){},mounted:function(){},methods:{afterAuthentication:function(t){this.accessToken=t.parsed.access_token,this.expirationDate=new Date(t.returnTime.setSeconds(t.returnTime.getSeconds()+parseInt(t.parsed.expires_in,10))).toLocaleString()}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",[n("legend",[t._v("GET ACCESS TOKEN")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-6 push-center"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Token Lifespan:")]),t._v(" "),n("div",{staticClass:"append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration,expression:"expiration"}],staticClass:"small text-center",attrs:{type:"text"},domProps:{value:t.expiration},on:{input:function(e){e.target.composing||(t.expiration=e.target.value)}}}),n("span",[t._v("minutes")])]),t._v(" "),n("div",{staticClass:"desc"},[t._v("Minimum: 1 min. - Maximum: 20,160 mins. (2 weeks) - Default: 120 mins.")])]),t._v(" "),n("div",{staticClass:"form-item"},[n("authenticate-button",{attrs:{label:"Get Access Token",url:t.authUrl},on:{authenticated:t.afterAuthentication}})],1)])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-6 push-center"},[n("div",{staticClass:"row gutters"},[n("div",{staticClass:"col col-10"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Access Token:")]),t._v(" "),n("copy-input",{attrs:{value:t.accessToken}}),t._v(" "),n("div",{staticClass:"desc"},[t._v("Expires on: "+t._s(t.expirationDate))])],1)]),t._v(" "),n("div",{staticClass:"col col-2"},[n("div",{staticClass:"form-item"},[t._m(0,!1,!1),t._v(" "),n("a",{staticClass:"button outline small w100 text-center",class:{disabled:!t.accessToken},attrs:{target:"_blank",href:t.selfUrl}},[n("icon",{staticClass:"shift-down-3",attrs:{name:"user"}})],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"small"},[e("br")])}]},f=n("VU/8")(h,v,!1,function(t){n("hopR")},null,null).exports,_=(n("3kiE"),{name:"get-refresh-token",components:{CopyInput:u,AuthenticateButton:m,Icon:r.a},props:["domain","clientId"],data:function(){return{noExpiration:!1,expiration:20160,code:"",refreshToken:"",accessToken:"",expirationDate:""}},computed:{authUrl:function(){return"https://"+this.domain+"/sharing/rest/oauth2/authorize"+"?"+("client_id="+this.clientId+"&response_type=code&redirect_uri="+window.location.origin+window.location.pathname+"authenticate&expiration="+(this.noExpiration?-1:this.expiration))},selfUrl:function(){return"https://"+this.domain+"/sharing/rest/community/self"+"?"+("f=pjson&token="+this.accessToken)}},created:function(){},mounted:function(){},methods:{afterAuthentication:function(t){var e=this;this.code=t.parsed.code;var n="https://"+this.domain+"/sharing/rest/oauth2/token",i="client_id="+this.clientId+"&grant_type=authorization_code&redirect_uri="+window.location.origin+window.location.pathname+"authenticate&code="+this.code;fetch(n+"?"+i).then(function(t){return t.json()}).then(function(t){var n=new Date;t.refresh_token&&(e.refreshToken=t.refresh_token,e.accessToken=t.access_token,e.expirationDate=new Date(n.setSeconds(n.getSeconds()+parseInt(t.expires_in,10))).toLocaleString())})},updateAccessToken:function(){var t=this,e="https://"+this.domain+"/sharing/rest/oauth2/token",n="client_id="+this.clientId+"&grant_type=refresh_token&refresh_token="+this.refreshToken;fetch(e+"?"+n).then(function(t){return t.json()}).then(function(e){var n=new Date;e.access_token&&(t.accessToken=e.access_token,t.expirationDate=new Date(n.setSeconds(n.getSeconds()+parseInt(e.expires_in,10))).toLocaleString())})}}}),g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",[n("legend",[t._v("GET REFRESH TOKEN")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-6 push-center"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.noExpiration,expression:"noExpiration"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.noExpiration)?t._i(t.noExpiration,null)>-1:t.noExpiration},on:{change:function(e){var n=t.noExpiration,i=e.target,s=!!i.checked;if(Array.isArray(n)){var a=t._i(n,null);i.checked?a<0&&(t.noExpiration=n.concat([null])):a>-1&&(t.noExpiration=n.slice(0,a).concat(n.slice(a+1)))}else t.noExpiration=s}}}),t._v(" No expiration\n        ")])]),t._v(" "),n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Token Lifespan:")]),t._v(" "),n("div",{staticClass:"append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration,expression:"expiration"}],staticClass:"small text-center",attrs:{type:"text",disabled:t.noExpiration},domProps:{value:t.expiration},on:{input:function(e){e.target.composing||(t.expiration=e.target.value)}}}),n("span",[t._v("minutes")])]),t._v(" "),n("div",{staticClass:"desc"},[t._v("Minimum: 1 min. - Maximum: 129,600 mins. (90 days) - Default: 20,160 mins. (2 weeks)")])]),t._v(" "),n("div",{staticClass:"form-item"},[n("authenticate-button",{attrs:{label:"Get Refresh Token",url:t.authUrl},on:{authenticated:t.afterAuthentication}})],1)])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-6 push-center"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Code:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"input",staticClass:"small",attrs:{type:"text",readonly:"",disabled:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Refresh Token:")]),t._v(" "),n("copy-input",{attrs:{value:t.refreshToken}})],1),t._v(" "),n("div",{staticClass:"row gutters"},[n("div",{staticClass:"col col-8"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Access Token:")]),t._v(" "),n("copy-input",{attrs:{value:t.accessToken}}),t._v(" "),n("div",{staticClass:"desc"},[t._v("Expires on: "+t._s(t.expirationDate))])],1)]),t._v(" "),n("div",{staticClass:"col col-2"},[n("div",{staticClass:"form-item"},[t._m(0,!1,!1),t._v(" "),n("a",{staticClass:"button outline small w100 text-center",class:{disabled:!t.accessToken},attrs:{target:"_blank",href:t.selfUrl}},[n("icon",{staticClass:"shift-down-3",attrs:{name:"user"}})],1)])]),t._v(" "),n("div",{staticClass:"col col-2"},[n("div",{staticClass:"form-item"},[t._m(1,!1,!1),t._v(" "),n("button",{staticClass:"button outline small w100",attrs:{disabled:!t.refreshToken},on:{click:t.updateAccessToken}},[n("icon",{staticClass:"shift-down-3",attrs:{name:"refresh"}})],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"small"},[e("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"small"},[e("br")])}]},C=n("VU/8")(_,g,!1,function(t){n("VNDx")},null,null).exports,w=n("fZjL"),x=n.n(w),k={name:"generate-token",components:{CopyInput:u,AuthenticateButton:m,Icon:r.a},props:["domain"],data:function(){return{username:"",password:"",expiration:60,referer:"",token:"",expirationDate:""}},computed:{selfUrl:function(){return"https://"+this.domain+"/sharing/rest/community/self"+"?"+("f=pjson&token="+this.token)}},created:function(){this.referer=""+window.location.origin+window.location.pathname},mounted:function(){},methods:{generateToken:function(){var t=this,e="https://"+this.domain+"/sharing/rest/generateToken",n=new FormData,i={username:this.username,password:this.password,expiration:this.expiration,f:"json",referer:this.referer};x()(i).forEach(function(t){return n.append(t,i[t])}),fetch(e,{method:"post",body:n}).then(function(t){return t.json()}).then(function(e){e.token&&(t.token=e.token,t.expirationDate=new Date(e.expires).toLocaleString())})}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",[n("legend",[t._v("GENERATE TOKEN")]),t._v(" "),n("p",{staticClass:"desc"},[t._v("\n    Tokens generated with this utility are not tied to the client id as they use the old /generateToken endpoint. These\n    tokens do not have access to the portal's premium content.\n  ")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-6 push-center"},[n("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),t.generateToken()}}},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Username:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"small text-center",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Password:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"small text-center",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Token Lifespan:")]),t._v(" "),n("div",{staticClass:"append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiration,expression:"expiration"}],staticClass:"small text-center",attrs:{type:"text"},domProps:{value:t.expiration},on:{input:function(e){e.target.composing||(t.expiration=e.target.value)}}}),n("span",[t._v("minutes")])]),t._v(" "),n("div",{staticClass:"desc"},[t._v("Minimum: 1 min. - Maximum: 21,600 mins. (15 days) - Default: 60 mins.")])]),t._v(" "),n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Referer:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.referer,expression:"referer"}],staticClass:"small text-center",attrs:{type:"text"},domProps:{value:t.referer},on:{input:function(e){e.target.composing||(t.referer=e.target.value)}}})]),t._v(" "),t._m(0,!1,!1)])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-6 push-center"},[n("div",{staticClass:"row gutters"},[n("div",{staticClass:"col col-10"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Token:")]),t._v(" "),n("copy-input",{attrs:{value:t.token}}),t._v(" "),n("div",{staticClass:"desc"},[t._v("Expires on: "+t._s(t.expirationDate))])],1)]),t._v(" "),n("div",{staticClass:"col col-2"},[n("div",{staticClass:"form-item"},[t._m(1,!1,!1),t._v(" "),n("a",{staticClass:"button outline small w100 text-center",class:{disabled:!t.token},attrs:{target:"_blank",href:t.selfUrl}},[n("icon",{staticClass:"shift-down-3",attrs:{name:"user"}})],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-item"},[e("button",{staticClass:"button w100 small"},[this._v("\n            Generate Token\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"small"},[e("br")])}]},y=n("VU/8")(k,b,!1,function(t){n("ogxJ")},null,null).exports,T={name:"main",components:{Icon:r.a,GetAccessToken:f,GetRefreshToken:C,GenerateToken:y},props:[],data:function(){return{domain:"www.arcgis.com",clientId:"",redirect_uri:""}},created:function(){this.redirect_uri=""+window.location.origin+window.location.pathname},mounted:function(){},methods:{}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"text-center"},[t._v("ArcGIS OAuth2 Dev Utilities")]),t._v(" "),n("fieldset",[n("legend",[n("icon",{staticClass:"shift-up-2",attrs:{name:"cog"}})],1),t._v(" "),n("div",{staticClass:"row gutters"},[n("div",{staticClass:"col col-6"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Domain:")]),t._v(" "),n("div",{staticClass:"prepend "},[n("span",[t._v("https://")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.domain,expression:"domain"}],staticClass:"small",attrs:{type:"text"},domProps:{value:t.domain},on:{input:function(e){e.target.composing||(t.domain=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"desc"},[t._v("Portal's domain")])])]),t._v(" "),n("div",{staticClass:"col col-6"},[n("div",{staticClass:"form-item"},[n("label",{staticClass:"small"},[t._v("Client Id:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.clientId,expression:"clientId"}],staticClass:"small",attrs:{type:"text"},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value)}}}),t._v(" "),t._m(0,!1,!1)])])]),t._v(" "),n("div",{staticClass:"row gutters"},[n("div",{staticClass:"col desc"},[n("p",{staticClass:"error"},[t._v("\n          The tokens generated by this app are directly tied to the client id specified above. Any token created with\n          this client id has access to the portal's premium content, so treat them like passwords (see second bullet\n          "),n("a",{attrs:{target:"_blank",href:"https://developers.arcgis.com/documentation/core-concepts/security-and-authentication/limitations-of-application-authentication/"}},[t._v("here")]),t._v(").\n          You can generate your own client id by creating an application on the\n          "),n("a",{attrs:{target:"_blank",href:"https://developers.arcgis.com/"}},[t._v("ArcGIS for Developers")]),t._v(" site.\n          Be sure to add "),n("code",[t._v(t._s(t.redirect_uri))]),t._v(" as a redirect uri for your application.\n        ")])])])]),t._v(" "),n("get-access-token",{attrs:{domain:t.domain,clientId:t.clientId}}),t._v(" "),n("get-refresh-token",{attrs:{domain:t.domain,clientId:t.clientId}}),t._v(" "),n("generate-token",{attrs:{domain:t.domain,clientId:t.clientId}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"desc"},[e("div",{staticClass:"error"},[this._v("* Required")])])}]},I=n("VU/8")(T,E,!1,function(t){n("rr2l")},"data-v-417661a0",null).exports;i.a.use(o.a);var S=new o.a({base:"/arcgis-oauth2-dev-utils/",routes:[{path:"/",name:"Main",component:I}]});n("MXkr");i.a.config.productionTip=!1,i.a.config.devtools=!0,new i.a({el:"#app",router:S,template:"<App/>",components:{App:a}})},VNDx:function(t,e){},ZvKb:function(t,e){},hopR:function(t,e){},jvwS:function(t,e){},lSa9:function(t,e){},ogxJ:function(t,e){},rr2l:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bd7b086d081b0de25158.js.map